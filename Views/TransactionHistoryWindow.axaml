<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="CoffeeShopPOS.Views.TransactionHistoryWindow"
        xmlns:models="using:CoffeeShopPOS.Models"
        Title="Transaction History Reports"
        Width="900" Height="700"
        WindowStartupLocation="CenterScreen">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>   <!-- Title -->
            <RowDefinition Height="Auto"/>   <!-- Filter options -->
            <RowDefinition Height="Auto"/>   <!-- Summary cards -->
            <RowDefinition Height="*"/>      <!-- Transaction list -->
        </Grid.RowDefinitions>
        
        <!-- Title -->
        <TextBlock Grid.Row="0"
                   Text="TRANSACTION HISTORY &amp; REPORTS"
                   FontSize="24"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   Margin="0,0,0,20"/>
        
        <!-- Filter Options -->
        <Border Grid.Row="1"
                BorderBrush="LightGray"
                BorderThickness="1"
                CornerRadius="5"
                Padding="15"
                Margin="0,0,0,15">
            
            <StackPanel Spacing="15">
                <TextBlock Text="REPORT PERIOD"
                           FontSize="16"
                           FontWeight="Bold"/>
                
                <StackPanel Orientation="Horizontal" Spacing="10">
                    <RadioButton x:Name="RbToday"
                                 Content="Today"
                                 GroupName="Period"
                                 IsChecked="True"
                                 Click="Period_Changed"/>
                    
                    <RadioButton x:Name="RbWeek"
                                 Content="This Week"
                                 GroupName="Period"
                                 Click="Period_Changed"/>
                    
                    <RadioButton x:Name="RbMonth"
                                 Content="This Month"
                                 GroupName="Period"
                                 Click="Period_Changed"/>
                    
                    <RadioButton x:Name="RbAll"
                                 Content="All Time"
                                 GroupName="Period"
                                 Click="Period_Changed"/>
                </StackPanel>
                
                <StackPanel Orientation="Horizontal" Spacing="10">
                    <Button Content="Refresh"
                            Width="120"
                            Height="35"
                            Click="BtnRefresh_Click"/>
                    
                    <Button Content="Export to File"
                            Width="120"
                            Height="35"
                            Click="BtnExport_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>
        
        <!-- Summary Cards -->
        <Grid Grid.Row="2" Margin="0,0,0,15">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Total Revenue Card -->
            <Border Grid.Column="0"
                    Background="#E8F5E9"
                    BorderBrush="Green"
                    BorderThickness="2"
                    CornerRadius="8"
                    Padding="15"
                    Margin="0,0,5,0">
                <StackPanel>
                    <TextBlock Text="TOTAL REVENUE"
                               FontSize="12"
                               FontWeight="Bold"
                               Foreground="DarkGreen"/>
                    <TextBlock x:Name="TxtTotalRevenue"
                               Text="₱0.00"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="Green"
                               Margin="0,5,0,0"/>
                </StackPanel>
            </Border>
            
            <!-- Transaction Count Card -->
            <Border Grid.Column="1"
                    Background="#E3F2FD"
                    BorderBrush="Blue"
                    BorderThickness="2"
                    CornerRadius="8"
                    Padding="15"
                    Margin="5,0,5,0">
                <StackPanel>
                    <TextBlock Text="TRANSACTIONS"
                               FontSize="12"
                               FontWeight="Bold"
                               Foreground="DarkBlue"/>
                    <TextBlock x:Name="TxtTransactionCount"
                               Text="0"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="Blue"
                               Margin="0,5,0,0"/>
                </StackPanel>
            </Border>
            
            <!-- Average Transaction Card -->
            <Border Grid.Column="2"
                    Background="#FFF3E0"
                    BorderBrush="Orange"
                    BorderThickness="2"
                    CornerRadius="8"
                    Padding="15"
                    Margin="5,0,5,0">
                <StackPanel>
                    <TextBlock Text="AVG TRANSACTION"
                               FontSize="12"
                               FontWeight="Bold"
                               Foreground="DarkOrange"/>
                    <TextBlock x:Name="TxtAvgTransaction"
                               Text="₱0.00"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="Orange"
                               Margin="0,5,0,0"/>
                </StackPanel>
            </Border>
            
            <!-- Total Discounts Card -->
            <Border Grid.Column="3"
                    Background="#FCE4EC"
                    BorderBrush="DeepPink"
                    BorderThickness="2"
                    CornerRadius="8"
                    Padding="15"
                    Margin="5,0,0,0">
                <StackPanel>
                    <TextBlock Text="TOTAL DISCOUNTS"
                               FontSize="12"
                               FontWeight="Bold"
                               Foreground="Purple"/>
                    <TextBlock x:Name="TxtTotalDiscounts"
                               Text="₱0.00"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="DeepPink"
                               Margin="0,5,0,0"/>
                </StackPanel>
            </Border>
        </Grid>
        
        <!-- Transaction List -->
        <Border Grid.Row="3"
                BorderBrush="Gray"
                BorderThickness="1"
                CornerRadius="5">
            
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <!-- List Header -->
                <Border Grid.Row="0"
                        Background="#F5F5F5"
                        Padding="10"
                        BorderBrush="LightGray"
                        BorderThickness="0,0,0,1">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140"/>  <!-- Date/Time -->
                            <ColumnDefinition Width="160"/>  <!-- Order ID -->
                            <ColumnDefinition Width="*"/>    <!-- Customer -->
                            <ColumnDefinition Width="100"/>  <!-- Amount -->
                            <ColumnDefinition Width="100"/>  <!-- Discount -->
                            <ColumnDefinition Width="80"/>   <!-- Points -->
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="DATE/TIME" FontWeight="Bold" FontSize="12" Foreground="Black"/>
                        <TextBlock Grid.Column="1" Text="ORDER ID" FontWeight="Bold" FontSize="12" Foreground="Black"/>
                        <TextBlock Grid.Column="2" Text="CUSTOMER" FontWeight="Bold" FontSize="12" Foreground="Black"/>
                        <TextBlock Grid.Column="3" Text="AMOUNT" FontWeight="Bold" FontSize="12" Foreground="Black"/>
                        <TextBlock Grid.Column="4" Text="DISCOUNT" FontWeight="Bold" FontSize="12" Foreground="Black"/>
                        <TextBlock Grid.Column="5" Text="POINTS" FontWeight="Bold" FontSize="12" Foreground="Black"/>
                    </Grid>
                </Border>
                
                <!-- Transaction Items -->
                <ScrollViewer Grid.Row="1">
                    <StackPanel x:Name="TransactionListPanel" Spacing="5">
                        <!-- Transactions will be added here -->
                        <TextBlock Text="No transactions found"
                                   Foreground="Black"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   Margin="0,50,0,0"/>
                    </StackPanel>
                </ScrollViewer>
            </Grid>
        </Border>
        
    </Grid>
    
</Window>